<div class="flex justify-between items-center mx-4 align-middle ", data-controller="admin--teachers--index", data-teachers-count="<%= @total_teachers.count %>">
  <h1>All Teachers</h1>
  <div class="flex">
    <%= form_with(class: "flex items-center", remote: true) do |f| %>
      <%= f.text_field :search, placeholder:"Search", id:"search_text", class:"bg-gray-100 rounded-l-md border-2 border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" %>
      <%= button_tag(type: 'submit', class: 'bg-primary-color-default text-white rounded-r-md p-2 border-2 border-primary-color-default', data: {action: "click->admin--teachers--index#sortTable", href: admin_teachers_path}) do %>
        <i class="fa-solid fa-magnifying-glass text-white h-4 w-4"></i>
      <% end %>
    <% end %>
    <div class="relative flex">
      <%= link_to "#", class: 'z-1 bg-primary-color-default text-white rounded-md px-3 py-2 ml-5 border-2 border-primary-color-default', id:"filter" do %>
        <i class="fa-solid fa-filter text-white h-4 w-4"></i>
      <% end %>
      <div id="filter_menu" class="absolute dropdown-menu mt-1 right-0 top-full z-10 rounded-md bg-white shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none hidden" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
        <div class="px-10 py-4">
          <h5>Filters</h5>
          <%= form_with(class: "items-center", remote: true, html:{id:"filter_form"}) do |f| %>
            <%= f.label "Created at:", class: "block text-sm font-medium mb-2 text-gray-700" %>
            <div class="flex">
              <div class="mr-2">
                <%= f.label "Start Date", class: "block text-sm font-medium text-gray-700" %>
                <%= f.date_field :start_date, id: "filter_start_date", class: "bg-gray-100 rounded-md border-2 border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" %>
              </div>
              <div>
                <%= f.label "End Date", class: "block text-sm font-medium text-gray-700" %>
                <%= f.date_field :end_date, id: "filter_end_date", class: "bg-gray-100 rounded-md border-2 border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-transparent" %>
              </div>
            </div>
            <%= f.label "Status:", class: "block text-sm font-medium mb-2 text-gray-700" %>
            <div class="block">
              <%= f.collection_check_boxes :status, User.statuses.keys, :to_s, :to_s do |b| %>
                <%= b.label { b.check_box + b.text } %>
              <% end %>
            </div>
            <div class="grid">
              <div class="flex justify-self-end">
                <%= f.submit "Clear", class: "flex bg-primary-color-default text-white rounded-md px-4 py-1 mt-3 mr-2 border-2 border-primary-color-default ", data: {action: "click->admin--teachers--index#clearFilter", href: admin_teachers_path} %>
                <%= f.submit "Apply", class: "flex bg-primary-color-default text-white rounded-md px-4 py-1 mt-3 border-2 border-primary-color-default", data: {action: "click->admin--teachers--index#sortTable", href: admin_teachers_path} %>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>
    <%= link_to "New Teacher", new_teacher_signup_path, class:"text-white font-bold bg-primary-color-default no-underline ml-5 py-2 px-4 rounded" %>
  </div>
</div>
<div class="table", id="teachers_table">
  <div class="bg-white shadow-md rounded my-6 mx-4">
    <table class="min-w-full bg-white rounded">
      <thead>
        <tr>
          <th class="w-1/6 py-2 px-4 bg-primary-color-300 rounded-tl font-bold uppercase text-sm text-white text-left">Email 
            <%= link_to "#",
                        data: {
                          sort: "email",
                          direction: "desc",
                          controller: "admin--teachers--index", 
                          action: "click->admin--teachers--index#sortTable",
                          href: admin_teachers_path
                        },
                        remote: true, 
                        class:"ml-3 sort" do%>
              <i class="fa-solid fa-chevron-up text-white hover:!text-gray-200 h-4 w-4"></i>
            <% end %>
          </th>
          <th class="w-1/6 py-2 px-4 bg-primary-color-300 font-bold uppercase text-sm text-white text-left">First Name 
            <%= link_to "#",
                        data: {
                          sort: "first_name",
                          direction: "desc",
                          controller: "admin--teachers--index", 
                          action: "click->admin--teachers--index#sortTable",
                          href: admin_teachers_path 
                        },
                        remote: true, 
                        class:"ml-3 sort" do%>
              <i class="fa-solid fa-chevron-up text-white hover:!text-gray-200 h-4 w-4"></i>
            <% end %>
          </th>
          <th class="w-1/6 py-2 px-4 bg-primary-color-300 font-bold uppercase text-sm text-white text-left">Last Name 
            <%= link_to "#",
                        data: {
                          sort: "last_name",
                          direction: "desc",
                          controller: "admin--teachers--index", 
                          action: "click->admin--teachers--index#sortTable",
                          href: admin_teachers_path
                        },
                        remote: true, 
                        class:"ml-3 sort" do%>
              <i class="fa-solid fa-chevron-up text-white hover:!text-gray-200 h-4 w-4"></i>
            <% end %>
          </th>
          <th class="w-1/6 py-2 px-4 bg-primary-color-300 font-bold uppercase text-sm text-white text-left">Created At 
            <%= link_to "#",
                        data: {
                          sort: "created_at",
                          direction: "desc",
                          controller: "admin--teachers--index", 
                          action: "click->admin--teachers--index#sortTable",
                          href: admin_teachers_path
                        }, 
                        remote: true, 
                        class:"ml-3 sort" do%>
              <i class="fa-solid fa-chevron-up text-white hover:!text-gray-200 h-4 w-4"></i>
            <% end %>
          </th>
          <th class="w-1/6 py-2 px-4 bg-primary-color-300 font-bold uppercase text-sm text-white text-left">Status</th>
          <th class="w-1/6 py-2 px-4 bg-primary-color-300 rounded-tr font-bold uppercase text-sm text-white text-left">Actions</th>
        </tr>
      </thead>
      <tbody class="text-gray-700" id="table_body">
        <%= render partial:"teacher", collection: @teachers %>
      </tbody>
    </table>
  </div>
  <!-- Pagination -->
  <div id="pagination">
    <%= render partial:"common/pagination", locals:{total_count: @total_teachers.count} %>
  </div>
</div>
<div class="flex flex-col items-center justify-center", style="height: 80vh", id="empty_table"> <!-- Here I've added style because h-80v is not working. Not sure why-->
  <p class="text-gray-600 font-medium size-5 text-center w-100vh">No teachers are present. Add teachers to see them here.</p>
</div>
